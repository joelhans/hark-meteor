<head>
  <title>Hark</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700,700italic">

  <link rel="stylesheet" href="css/mediaelementplayer.css" />

</head>

<body>
  <section id="container">
    <header>
      {{#if currentUser}}
        <div class="header-logo">
          <img src="img/logo.svg" />
        </div>
      {{/if}}

      {{loginButtons}}
    </header>

    <section class="main">
      {{#if currentUser}}
        <section class="left">
          {{> add}}
          {{> subscriptions}}
        </section>
        <section class="right">
          {{> timeline}}
        </section>
      {{else}} 
        {{> greeting}}
      {{/if}}
    </section>
  </section>

  {{> notify}}

  {{#if currentUser}}
    {{> player}}
  {{/if}}
</body>

<template name="greeting">
  <div class="home-logo">
    <img src="img/logo.svg" />
  </div>
  <h1>Hark is your personal radio station.</h1>
</template>

<!---------------------------
-- TEMPLATE/HOME
---------------------------->
<template name="add">
  <a id="update" href="#">Update</a>
  <form id="add-podcast-form">
    <input type="text" id="podcast-uri" placeholder="Enter a feed address." val="http://feeds.thisamericanlife.org/talpodc" />
    <button>Add</button>
  </form>
</template>

<!---------------------------
-- TEMPLATE/SUBSCRIPTIONS
---------------------------->
<template name="subscriptions">
  <p>Your feeds:</p>
  {{#each feeds}}
    <p>{{title}}</p>
  {{/each}}
</template>

<!---------------------------
-- TEMPLATE/TIMELINE
---------------------------->
<template name="timeline">
  <p>Podcasts:</p>
  <ul id="items">
    {{#each items}}
      <li class="item">
        <a href="#" file="{{file.0.url}}" class="item-play">{{title}}</a>
        <div class="meta">
          <span>{{feed}}</span>
          |
          <span class="moment" title="published: {{date}}">{{date}}</span>
          |
          <a href="#" id="{{_id}}" class="item-listened">Mark listened</a>
        </div> 
      </li>
    {{/each}}
  </ul>
</template>

<!---------------------------
-- TEMPLATE/NOTIFICATIONS
---------------------------->
<template name="notify">
  <section id="notify" class="notify error-{{showHide}}">
    <p>Errors:</p>
    {{#each messages}}
      <p>{{this.message}}</p>
    {{/each}}
    <p>Click to dismiss.</p>
  </section>
</template>

<!---------------------------
-- TEMPLATE/PLAYER
---------------------------->

<template name="player">
  <section id="player">
    <audio class="player-audio" src="http://feeds.thisamericanlife.org/~r/talpodcast/~5/o_Vb6IZzdfs/477.mp3"></audio>
  </section>
</template>
